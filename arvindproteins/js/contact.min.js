$(document).ready(function(e) {
    $("#contact_form").on("submit", function(e) {
        e.preventDefault();
        // $("html, body").animate({
        //     scrollTop: 0
        // }, 1000);
        var name = $("#name").val().trim(),
        email = $("#email").val().trim(),
        phone = $("#phone").val(),
        subject = $("#subject").val(),
        message = $("#message").val();

        if(name == ''){
            $("#emailMsg").html('<div class="alert alert-danger"><i class="fa fa-fw fa-exclamation-triangle"></i><strong> Name is required!</strong></div>');

            return false;
        }else if (email != "") {
            if (emailValidate(email) === false) {
                $("#emailMsg").html('<div class="alert alert-danger"><i class="fa fa-fw fa-exclamation-triangle"></i><strong> Please type correct email!</strong></div>');

                return false;
            }
            
        } else {
            $("#emailMsg").html('<div class="alert alert-danger"><i class="fa fa-fw fa-exclamation-triangle"></i> Email is required!!</strong></div>');

            return false;
        } 
        if (phone == ""){
            $("#emailMsg").html('<div class="alert alert-danger"><i class="fa fa-fw fa-exclamation-triangle"></i><strong> Phone is required!</strong></div>');

            return false;
        } else {
            $("#overlay").html('<div class="overlay"><i class="fa fa-fw fa-spin fa-spinner"></i> Please wait...!</div>');
            $("#emailMsg").html('');
            $('#btn_submit').prop('disabled', true);
            $.ajax({
                type: 'POST',
                url: 'contact-action.php',
                data: $("#contact_form").serialize(),
                success: function(data) {
                    $("#overlay").html(data);
                    $("#email, #name, #subject, #message, #phone").val('');
                    $('#btn_submit').prop('disabled', false);
                    setTimeout(function(){
                        $("#overlay").html('');
                    },5000);
                }
            });
        }
    });

    //$('textarea').summernote({
        //height: 300, //set editable area's height
    //});

});

function emailValidate(email) {
    var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
    return regex.test(email);
}